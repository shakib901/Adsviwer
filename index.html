<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sakib Ads 360</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&display=swap');

* { box-sizing:border-box; margin:0; padding:0; font-family:'Poppins', sans-serif; }

body {
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:#0d1b2a;
    color:#e0e1dd;
    padding:10px;
}

.container {
    background: rgba(27, 38, 59, 0.95);
    backdrop-filter: blur(12px);
    border-radius:28px;
    width:340px;
    padding:30px 20px;
    text-align:center;
    box-shadow: 0 12px 35px rgba(0,0,0,0.6);
    border:1px solid rgba(162,210,255,0.2);
    display:flex;
    flex-direction:column;
    justify-content:space-between;
}

h1 {
    font-size:28px;
    font-weight:700;
    color:#a2d2ff;
    margin-bottom:8px;
}

.subtitle {
    font-size:16px;
    color:#a2d2ff;
    margin-bottom:25px;
    font-weight:600;
    opacity:0.9;
}

/* Stats */
.stats p{
    font-size:20px;
    margin:15px 0;
    font-weight:600;
    color:#e0e1dd;
}

/* Progress Circle */
.progress-circle {
    width:140px;
    height:140px;
    margin:25px auto;
    position:relative;
}

.progress-circle svg {
    width:140px;
    height:140px;
    transform: rotate(-90deg);
}

.progress-circle circle {
    cx:70;
    cy:70;
    r:60;
    fill:none;
    stroke-width:12;
}

.progress-circle .bg {
    stroke: rgba(162,210,255,0.25);
}

.progress-circle .progress {
    stroke: #a2d2ff;
    stroke-linecap:round;
    stroke-dasharray: 377;
    stroke-dashoffset: 377;
    transition: stroke-dashoffset 1s ease;
}

.progress-text {
    position:absolute;
    top:50%; left:50%;
    transform:translate(-50%,-50%);
    font-size:28px;
    font-weight:700;
    color:#a2d2ff;
}

/* Buttons */
.buttons button {
    width:100%;
    padding:14px;
    margin:10px 0;
    border:none;
    border-radius:18px;
    font-size:17px;
    font-weight:600;
    cursor:pointer;
    color:#0d1b2a;
    background:#a2d2ff;
    transition: all 0.3s ease;
    box-shadow: 0 6px 18px rgba(162,210,255,0.3);
}
.buttons button:hover{
    background:#8ab8ff;
    transform: translateY(-3px);
}
.buttons button:disabled{
    background:#415a77;
    color:#778da9;
    transform:none;
    box-shadow:none;
    opacity:0.7;
}

/* Footer Credit */
.footer-credit {
    font-size:13px;
    color:#778da9;
    margin-top:20px;
    opacity:0.8;
}

/* Telegram Bubble */
.telegram-bubble {
    position:fixed;
    bottom:15px;
    right:15px;
    width:55px;
    height:55px;
    background:#0088cc;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow: 0 8px 20px rgba(0,136,204,0.4);
    transition: all 0.3s ease;
    z-index:100;
}
.telegram-bubble:hover{
    transform:scale(1.15);
}
.telegram-bubble img{
    width:32px;
    height:32px;
}

/* Success Message */
.success-msg {
    position:fixed;
    top:20px;
    left:50%;
    transform:translateX(-50%);
    background:rgba(162,210,255,0.25);
    padding:12px 28px;
    border-radius:28px;
    color:#a2d2ff;
    font-weight:600;
    font-size:17px;
    border:1px solid #a2d2ff;
    opacity:0;
    transition: all 0.5s ease;
    pointer-events:none;
    box-shadow:0 0 18px rgba(162,210,255,0.4);
}
.success-msg.show {
    opacity:1;
    transform:translateX(-50%) translateY(10px);
}

/* Limit Modal */
.limit-modal {
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:rgba(0,0,0,0.85);
    display:none;
    justify-content:center;
    align-items:center;
    z-index:300;
}
.limit-modal-content {
    background: rgba(27, 38, 59, 0.95);
    padding:30px;
    border-radius:20px;
    text-align:center;
    max-width:300px;
    border:2px solid #a2d2ff;
    box-shadow: 0 0 30px rgba(162,210,255,0.4);
}
#modal-message {
    font-size:18px;
    color:#e0e1dd;
    margin-bottom:25px;
    line-height:1.5;
}
#reset-limit-btn {
    padding:12px 30px;
    background:#ff4444;
    color:white;
    border:none;
    border-radius:12px;
    font-size:16px;
    font-weight:600;
    cursor:pointer;
    transition:0.3s;
}
#reset-limit-btn:hover {
    background:#ff6666;
    transform:scale(1.05);
}

</style>
</head>
<body>

<div class="container">
    <div>
        <h1>Sakib Ads 360</h1>
        <div class="subtitle">Watch Ads & Track Progress</div>

        <div class="stats">
            <p>Watched Ads: <span id="watched-ads">0</span></p>
        </div>

        <div class="progress-circle">
            <svg>
                <circle class="bg" cx="70" cy="70" r="60"></circle>
                <circle class="progress" cx="70" cy="70" r="60"></circle>
            </svg>
            <div class="progress-text" id="ads-progress">0/60</div>
        </div>

        <div class="buttons">
            <button id="watch-ad-btn">Watch Ad</button>
            <button id="reward-ad-btn">Watch Reward Popup</button>
            <button id="auto-ad-btn" onclick="startAutoAds()">Auto Ads</button>
            <button id="stop-auto-btn" onclick="stopAutoAds()" disabled>Stop Auto</button>
        </div>
    </div>

    <div class="footer-credit">Developed By SAKIB HOSSAIN</div>
</div>

<a href="https://t.me/bestearningmethod" target="_blank" class="telegram-bubble">
    <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram">
</a>

<div class="success-msg" id="success-msg">Ad Completed!</div>

<!-- Limit Modal -->
<div class="limit-modal" id="limit-modal">
    <div class="limit-modal-content">
        <p id="modal-message"></p>
        <button id="reset-limit-btn">Reset Count</button>
    </div>
</div>

<!-- Monetag SDK -->
<script src='//libtl.com/sdk.js' data-zone='10531747' data-sdk='show_10531747'></script>

<script>
let normalAdsCount = parseInt(localStorage.getItem('normalAdsCount')) || 0;
let rewardAdsCount = parseInt(localStorage.getItem('rewardAdsCount')) || 0;
let autoAdInterval;
let monetagLoaded = false;

const AD_LIMIT = 60;
const CIRCUMFERENCE = 377;

const AD_FUNCTION_NAME = 'show_10531747';

// Initialize
document.getElementById('watched-ads').textContent = normalAdsCount;
updateProgressCircle();

document.getElementById('watch-ad-btn').disabled = true;

function checkSDK(){
    if(typeof window[AD_FUNCTION_NAME] === 'function'){
        monetagLoaded = true;
        document.getElementById('watch-ad-btn').disabled = false;
    } else setTimeout(checkSDK, 500);
}
window.addEventListener('DOMContentLoaded', checkSDK);

function updateProgressCircle(){
    const progress = normalAdsCount / AD_LIMIT;
    const offset = CIRCUMFERENCE - (progress * CIRCUMFERENCE);
    document.querySelector('.progress-circle .progress').style.strokeDashoffset = offset;
    document.getElementById('ads-progress').textContent = normalAdsCount + '/' + AD_LIMIT;
}

function showSuccess(msg = 'Ad Completed!'){
    const successMsg = document.getElementById('success-msg');
    successMsg.textContent = msg;
    successMsg.classList.add('show');
    setTimeout(() => successMsg.classList.remove('show'), 2000);
}

function checkNormalLimit(){
    if(normalAdsCount >= AD_LIMIT) return false;
    return true;
}

function checkRewardLimit(){
    if(rewardAdsCount >= AD_LIMIT) return false;
    return true;
}

function showLimitModal(mode){
    const modal = document.getElementById('limit-modal');
    const message = document.getElementById('modal-message');
    const resetBtn = document.getElementById('reset-limit-btn');

    if(mode === 'normal'){
        message.textContent = "You have reached the 60 ads limit for normal ads.\nPlease watch Reward Popup ads now and change your IP to continue.";
        resetBtn.onclick = () => {
            normalAdsCount = 0;
            localStorage.setItem('normalAdsCount', normalAdsCount);
            document.getElementById('watched-ads').textContent = normalAdsCount;
            updateProgressCircle();
            modal.style.display = 'none';
        };
    } else if(mode === 'reward'){
        message.textContent = "You have reached the 60 ads limit for Reward Popup.\nPlease wait 10 minutes and change your IP to continue.";
        resetBtn.onclick = () => {
            rewardAdsCount = 0;
            localStorage.setItem('rewardAdsCount', rewardAdsCount);
            modal.style.display = 'none';
        };
    }
    modal.style.display = 'flex';
}

// Normal Watch Ad
document.getElementById('watch-ad-btn').addEventListener('click', ()=>{
    if(!monetagLoaded){ alert('Ad service not loaded yet!'); return; }
    if(!checkNormalLimit()){ showLimitModal('normal'); return; }

    window[AD_FUNCTION_NAME]().then(()=>{
        normalAdsCount++;
        document.getElementById('watched-ads').textContent = normalAdsCount;
        localStorage.setItem('normalAdsCount', normalAdsCount);
        updateProgressCircle();
        showSuccess('Ad Completed!');

        if(normalAdsCount >= AD_LIMIT){
            showLimitModal('normal');
            stopAutoAds();
        }
    }).catch(err=>{ console.error(err); alert('Ad failed!'); });
});

// Reward Popup Ad
document.getElementById('reward-ad-btn').addEventListener('click', ()=>{
    if(!monetagLoaded){ alert('Ad service not loaded yet!'); return; }
    if(!checkRewardLimit()){ showLimitModal('reward'); return; }

    window[AD_FUNCTION_NAME]('pop').then(()=>{
        rewardAdsCount++;
        localStorage.setItem('rewardAdsCount', rewardAdsCount);
        showSuccess('Reward Ad Completed!');

        if(rewardAdsCount >= AD_LIMIT){
            showLimitModal('reward');
        }
    }).catch(err=>{
        console.error(err);
        alert('Reward Ad failed!');
    });
});

// Auto Ads
function startAutoAds(){
    if(!checkNormalLimit()) { showLimitModal('normal'); return; }
    autoAdInterval = setInterval(()=>{
        if(normalAdsCount < AD_LIMIT){
            document.getElementById('watch-ad-btn').click();
        } else {
            stopAutoAds();
            showLimitModal('normal');
        }
    }, 5000);
    document.getElementById('auto-ad-btn').disabled = true;
    document.getElementById('stop-auto-btn').disabled = false;
}

function stopAutoAds(){
    clearInterval(autoAdInterval);
    document.getElementById('auto-ad-btn').disabled = false;
    document.getElementById('stop-auto-btn').disabled = true;
}
</script>

</body>
</html>
